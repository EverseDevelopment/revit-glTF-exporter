<Window x:Class="Revit_glTF_Exporter.MainWindow" 
        x:Name="MainWindow_Window"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Revit_glTF_Exporter"
             WindowStyle="None"
             WindowStartupLocation="CenterScreen"
             AllowsTransparency="True"
             Background="{x:Null}"
             mc:Ignorable="d" 
             Width="350" 
             Height="410"
             Title="glTF Exporter Settings"
             ResizeMode="NoResize"
             Topmost="True"
             ShowInTaskbar="True"
             Style="{DynamicResource CustomWindowStyle}">

    <Border 
        Name="MainWindow_Border" 
        Background="White" 
            BorderBrush="Transparent" 
            BorderThickness="1,1,1,1" 
            CornerRadius="8,8,8,8" 
            Margin="10,10,10,10" 
            MouseDown="Border_MouseDown">
        <Border.Effect>
            <DropShadowEffect BlurRadius="20" Color="Gray" Opacity="0.3" ShadowDepth="0" Direction="0"></DropShadowEffect>
        </Border.Effect>

        <Grid Background="Transparent" Margin="9,9,9,9">
            <ToggleButton
              Margin="163,81,111,0"
              Style="{DynamicResource SwitchTypeToggleButton}" 
              Height="16" 
              VerticalAlignment="Top"></ToggleButton>

            <Button 
                    Style="{DynamicResource CloseButtonStyle}" 
                    Name="AdvancedSettingsButton" 
                    Foreground="Black" 
                    BorderThickness="0" 
                    Click="Advanced_Settings_Button" 
                    Background="Transparent" 
                    Height="39" 
                    FontSize="16" 
                    FontWeight="Light" 
                    Margin="10,252,10,0" VerticalAlignment="Top">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border Name="border" Width="290" Background="Transparent">
                            <Grid>
                                <TextBlock Text="Advanced Settings" VerticalAlignment="Center" HorizontalAlignment="Center"></TextBlock>
                                <Image Name="SlideUp_Image" Visibility="Visible" Source="C:\Users\danie\source\repos\revit-glTF-exporter\Common_glTF_Exporter\Resources\SlideDown.png" HorizontalAlignment="Right" Height="10" Width="20" SnapsToDevicePixels="True" RenderOptions.BitmapScalingMode="HighQuality" RenderOptions.EdgeMode="Aliased"/>
                                <Image Name="SlideDown_Image" Visibility="Hidden" Source="C:\Users\danie\source\repos\revit-glTF-exporter\Common_glTF_Exporter\Resources\SlideUp.png" HorizontalAlignment="Right" Height="10" Width="20" SnapsToDevicePixels="True" RenderOptions.BitmapScalingMode="HighQuality" RenderOptions.EdgeMode="Aliased"/>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers >
                            <Trigger Property="IsDefaulted" Value="True">
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Opacity"  TargetName="border" Value="0.5"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Opacity"  TargetName="border" Value="0.2"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Button.Template>
            </Button>
            <Button 
                    Style="{DynamicResource CloseButtonStyle}" 
                    Name="TtitleButton" 
                    Foreground="Black" 
                    BorderThickness="0" 
                    Click="Title_Link" 
                    Background="Transparent" 
                    VerticalAlignment="Top" 
                    Height="39" 
                    FontSize="20" 
                    FontWeight="Light" 
                    Margin="41,-1,139,0">glTF exporter</Button>
            <Button  
                   Style="{DynamicResource CloseButtonStyle}"
                   Name="CloseButton" 
                   Foreground="Black" 
                   BorderThickness="0" 
                   Click="Close_Click" 
                   Background="Transparent" 
                   VerticalAlignment="Top" 
                   Height="21" 
                   FontSize="16" 
                   FontWeight="Light" 
                   Margin="272,10,17,0" RenderTransformOrigin="0.012,0.623">X</Button>
            <Button Content="Export" 
                    Style="{DynamicResource MainButtonStyle}"
                    Margin="10,0,10,10"
                    Click="OnExportView" 
                    Height="38" VerticalAlignment="Bottom"/>
            <CheckBox x:Name="MaterialsCheckbox"
                    IsChecked="True" 
                    Height="20"
                    VerticalContentAlignment="Center"
                    Margin="30,79,143,0" 
                    VerticalAlignment="Top">Export Materials</CheckBox>
            <CheckBox x:Name="ElementIdCheckbox"
                  Height="20"
                  VerticalContentAlignment="Center"
                  IsChecked="False" 
                  Margin="30,112,136,0" VerticalAlignment="Top">Export ElementId</CheckBox>

            <Rectangle  VerticalAlignment="Top" 
                        Fill="Gray" Height="1" Margin="10,149,10,0" Opacity="0.2"/>

            <Label         
                           HorizontalAlignment="Left" 
                           Margin="25,176,0,0" 
                           Height="24" 
                           VerticalAlignment="Top"
                           Content="Project units:" Width="72">
            </Label>
            <Label x:Name="UnitTextBlock" 
                               Content="Meters"
                               HorizontalAlignment="Left" 
                               Width="116"  
                               Height="26"
                               VerticalAlignment="Top" 
                               Margin="105,176,0,0">
            </Label>
            <ComboBox  x:Name="UnitsComboBox" 
                       ItemsSource="{Binding Units, UpdateSourceTrigger=PropertyChanged}" 
                       SelectedItem="{Binding SelectedUnit, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                       DisplayMemberPath="Label" 
                       Margin="118,210,25,0" 
                       Height="30" 
                       VerticalAlignment="Top"/>
            <Label           
                        HorizontalAlignment="Left" 
                        Margin="21,210,0,0" 
                        Content="Export unit:"
                        Height="28" 
                        VerticalAlignment="Top" 
                        Width="72" 
                        RenderTransformOrigin="0.595,0.511">
            </Label>

            <!--Advanced Settings Grid-->
            <Grid x:Name="Advanced_Settings_Grid" Visibility="Collapsed">
                <CheckBox x:Name="ExportLights_Checkbox"
                Height="20"
                VerticalContentAlignment="Center"
                IsChecked="False" 
                Margin="10,330,156,0" VerticalAlignment="Top" Content="Export Lights"/>
                <CheckBox x:Name="ExportBatchId_CheckBox"
                Height="20"
                VerticalContentAlignment="Center"
                IsChecked="False" 
                Margin="10,360,156,0" VerticalAlignment="Top" Content="Export BatchID"/>
                <CheckBox x:Name="ExportGrids_CheckBox"
                Height="20"
                VerticalContentAlignment="Center"
                IsChecked="False" 
                Margin="166,330,0,0" VerticalAlignment="Top" Content="Export Grids"/>
                <CheckBox x:Name="ExportBoundingBox_CheckBox"
                Height="20"
                VerticalContentAlignment="Center"
                IsChecked="False" 
                Margin="166,360,0,0" VerticalAlignment="Top" Content="Export Bounding Box"/>
                <CheckBox x:Name="FlipAxys_Checkbox"
                Height="20"
                VerticalContentAlignment="Center"
                IsChecked="False" 
                Margin="166,390,0,0" VerticalAlignment="Top" Content="Flip YZ-Axys"/>
                <CheckBox x:Name="RelocateModel_CheckBox"
                Height="20"
                VerticalContentAlignment="Center"
                IsChecked="False" 
                Margin="10,390,156,0" VerticalAlignment="Top" Content="Relocate to (0,0,0)"/>
                <CheckBox x:Name="ExportNormals_CheckBox"
                Height="20"
                VerticalContentAlignment="Center"
                IsChecked="False" 
                Margin="10,300,156,0" VerticalAlignment="Top" Content="Export Normals"/>
                <CheckBox x:Name="ExportLevels_CheckBox"
                Height="20"
                VerticalContentAlignment="Center"
                IsChecked="False" 
                Margin="166,300,0,0" VerticalAlignment="Top" Content="Export Levels"/>
                <Label         
                    HorizontalAlignment="Center" 
                    Margin="0,429,0,0" 
                    Height="24" 
                    VerticalAlignment="Top"
                    Content="Compression" Width="310"/>
                <Grid Height="50" Margin="0,446,0,0" VerticalAlignment="Top">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="1*" />
                        <ColumnDefinition Width="1*" />
                        <ColumnDefinition Width="1*" />
                        <ColumnDefinition Width="1*" />
                    </Grid.ColumnDefinitions>
                    <RadioButton Name="NoneCompression_RadioButton" Grid.Column="0" Content="None" HorizontalAlignment="Left" Margin="10" VerticalAlignment="Center"/>
                    <RadioButton Name="MeshoptCompression_RadioButton" Grid.Column="1" Content="Meshopt" HorizontalAlignment="Left" Margin="10,0,0,0" VerticalAlignment="Center" Width="67"/>
                    <RadioButton Name="DRACOCompression_RadioButton" Grid.Column="2" Content="DRACO" HorizontalAlignment="Left" Margin="10" VerticalAlignment="Center"/>
                    <RadioButton Name="ZIPCompression_RadioButton" Grid.Column="3" Content="ZIP" HorizontalAlignment="Left" Margin="10" VerticalAlignment="Center"/>
                </Grid>
                <Slider Name="Accuracy_Slider" ToolTip="Reducing the accuracy can affect the quality of the exported geometry." Grid.Column="0" Margin="10,531,10,0" Maximum="10" Minimum="0" AutoToolTipPlacement="TopLeft" VerticalAlignment="Top"/>
                <Rectangle  VerticalAlignment="Top" 
                Fill="Gray" Height="1" Margin="10,428,10,0" Opacity="0.2"/>
                <Rectangle  VerticalAlignment="Top" 
                Fill="Gray" Height="1" Margin="10,497,10,0" Opacity="0.2"/>
                <Label         
                HorizontalAlignment="Center" 
                Margin="0,498,0,0" 
                Height="24" 
                VerticalAlignment="Top"
                Content="Number of Decimal Digits" Width="310"/>
            </Grid>
        </Grid>
    </Border>

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Resources.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

</Window>
